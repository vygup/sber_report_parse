# sber_report_parse

# Требования

## Библиотеки
Помимо предустановленных библиотек потребуется `imap_tools`
```bash
pip install imap_tools
```

# Как подключить

## Подключение отчетов у брокера
1. Заходим в сбербанк онлайн (WEB) 
2. Вкладка накопления
3. Инвестиции 
4. Выбираем брокерский счет
5. Изменить параметры счета 
6. Отчёты брокера 
7. Редактировать
8. Выбираем нужные параметры и сохранить

## Чтобы скачать отчет с сайта
1. Заходим в сбербанк онлайн (WEB) 
2. Вкладка накопления
3. Инвестиции 
4. Выбираем брокерский счет
5. Отчеты и справки и выбираем нужный счет и период

## Выгрузка отчетов из почты
В `config.json` передать переменные:
	`path` - путь до файла с конфигом, где есть ключ к почте и сама почта (шаблон в текущей папке `mail.json`)  
	`path_data` - путь до папки, куда будут загружены отчеты
	`ya_mail_folder` - указать название папки, где на почте лежат письма, если они в папке Входящие, то удалить переменную из json
	`ya_mail_broker` - почта брокера с который приходят письма с отчетом
	`ya_imap_host` - host imap почтового сервиса
	`ya_imap_port` - port imap почтового сервиса

В `mail.json` передать переменные:
	`ya_key_invest` - ключ к почте, для яндекса делается в профиле-безопасность-пароли приложений
	`ya_mail_invest` - сама почта name@ya.ru

Запустить `download_data_from_mail.py`
